{% extends "base.html" %}

{% load wagtailcore_tags %}

{% block body_class %}template-blogpage{% endblock %}

{% block content %}
<div class="container">

    <div class="row">

      <!-- Post Content Column -->
      <div class="col-lg-8">

        <!-- Title -->
        <h1 class="mt-4">{{ page.title }}</h1>
        <!-- Date/Time -->
        {% with categories=page.categories.all %}
        <p>Posted on {{ page.date }}{% if categories %} in {% for category in categories %}{{ category.name }}, {% endfor %} {% endif %}</p>
        {% endwith %}
        <hr>

        <!-- Preview Image -->
        <img class="img-fluid rounded" src="http://placehold.it/900x300" alt="">

        <hr>

        <!-- Post Content -->
        <p class="lead">{{ page.intro }}</p>

        {{ page.body|richtext }}
    

      </div>

      <!-- Sidebar Widgets Column -->
      <div class="col-md-4">

        <!-- Tags Widget -->
        <div class="card my-4">
          <h5 class="card-header">Tags</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-6">
                <ul class="list-unstyled mb-0">
                  {% if page.tags.all.count %}
                  {% for tag in page.tags.all %}
                  <span class="badge badge-primary"><a href="{% slugurl 'tags' %}?tag={{ tag }}">{{ tag }}</a></span>
                  {% endfor %}
                  {% else %}
                  No tags for this post
                  {% endif %}
              </div>
            </div>
          </div>
        </div>

        <!-- Side Widget -->
        <div class="card my-4">
          <h5 class="card-header">Side Widget</h5>
          <div class="card-body">
            You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!
          </div>
        </div>

      </div>

    </div>

    <p><a href="{{ page.get_parent.url }}">Return to blog</a></p>

{% endblock %}